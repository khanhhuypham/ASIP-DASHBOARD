{"ast":null,"code":"var _jsxFileName = \"/Users/phamkhanhhuy/Documents/OVERATE-VNTECH/TECHRES-PROJECTS/MOBILES/iOS/my-project/ASIP-DASHBOARD/src/components/custom/image-custom.tsx\",\n  _s = $RefreshSig$();\n// import { Modal } from \"@mantine/core\";\nimport { useEffect, useState } from \"react\";\nimport ic_image_default from \"../../assets/icons/ic_image_default.svg\";\nimport ic_user_default from \"../../assets/icons/ic_user_default.svg\";\nimport { ApiConfig } from \"../../services/api-config\";\nimport { Modal } from \"antd\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageCustom = ({\n  url,\n  className,\n  onClick,\n  fallBackUrl,\n  style,\n  isLocal = true,\n  isUser = true,\n  isReview = false\n}) => {\n  _s();\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const imageDefault = isUser ? ic_user_default : ic_image_default;\n  useEffect(() => {\n    const resolvedUrl = url !== null && url !== void 0 ? url : imageDefault;\n    setImageSrc(isLocal ? resolvedUrl : `${ApiConfig.IMAGE_URL}${resolvedUrl}`);\n  }, [url, isLocal, imageDefault]);\n  const handleError = event => {\n    event.currentTarget.onerror = null; // prevents looping if image onError also fails\n    event.currentTarget.src = fallBackUrl !== null && fallBackUrl !== void 0 ? fallBackUrl : imageDefault;\n  };\n  const handleClick = () => {\n    if (isReview) {\n      setIsModalOpen(true);\n    } else if (onClick) {\n      onClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [onClick || isReview ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full h-full p-0 border-none\",\n      onClick: handleClick,\n      style: style,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: className,\n        src: imageSrc,\n        onError: handleError,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n      className: className,\n      src: imageSrc,\n      onError: handleError,\n      style: style,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), isReview && /*#__PURE__*/_jsxDEV(Modal, {\n      open: isModalOpen,\n      onClose: () => setIsModalOpen(false)\n      // size=\"80%\"\n      // withCloseButton={false}\n      // transitionDuration={350}\n      // exitTransitionDuration={350}\n      ,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"calc(100vh - 48px - 48px)\"\n        },\n        className: \"p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"object-contain w-full h-full\",\n          src: imageSrc,\n          onError: handleError,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(ImageCustom, \"uK9zg3PY3VZztnbBNFpnKd08ahE=\");\n_c = ImageCustom;\nexport default ImageCustom;\nvar _c;\n$RefreshReg$(_c, \"ImageCustom\");","map":{"version":3,"names":["useEffect","useState","ic_image_default","ic_user_default","ApiConfig","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageCustom","url","className","onClick","fallBackUrl","style","isLocal","isUser","isReview","_s","imageSrc","setImageSrc","isModalOpen","setIsModalOpen","imageDefault","resolvedUrl","IMAGE_URL","handleError","event","currentTarget","onerror","src","handleClick","children","onError","alt","fileName","_jsxFileName","lineNumber","columnNumber","open","onClose","height","_c","$RefreshReg$"],"sources":["/Users/phamkhanhhuy/Documents/OVERATE-VNTECH/TECHRES-PROJECTS/MOBILES/iOS/my-project/ASIP-DASHBOARD/src/components/custom/image-custom.tsx"],"sourcesContent":["// import { Modal } from \"@mantine/core\";\nimport { FC, useEffect, useState } from \"react\";\nimport ic_image_default from \"../../assets/icons/ic_image_default.svg\";\nimport ic_user_default from \"../../assets/icons/ic_user_default.svg\";\nimport { ApiConfig } from \"../../services/api-config\";\nimport { Modal } from \"antd\";\n\ninterface ImageProps {\n    url?: string;\n    className?: string;\n    onClick?: () => void;\n    fallBackUrl?: string;\n    style?: React.CSSProperties;\n    isLocal?: boolean;\n    isUser?: boolean;\n    isReview?: boolean;\n}\n\nconst ImageCustom: FC<ImageProps> = ({\n    url,\n    className,\n    onClick,\n    fallBackUrl,\n    style,\n    isLocal = true,\n    isUser = true,\n    isReview = false,\n}: ImageProps) => {\n    const [imageSrc, setImageSrc] = useState(\"\");\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const imageDefault = isUser ? ic_user_default : ic_image_default;\n\n    useEffect(() => {\n        const resolvedUrl = url ?? imageDefault;\n        setImageSrc(isLocal ? resolvedUrl : `${ApiConfig.IMAGE_URL}${resolvedUrl}`);\n    }, [url, isLocal, imageDefault]);\n\n    const handleError = (event: React.SyntheticEvent<HTMLImageElement, Event>) => {\n        event.currentTarget.onerror = null; // prevents looping if image onError also fails\n        event.currentTarget.src = fallBackUrl ?? imageDefault;\n    };\n\n    const handleClick = () => {\n        if (isReview) {\n            setIsModalOpen(true);\n        } else if (onClick) {\n            onClick();\n        }\n    };\n\n    return (\n        <>\n            {onClick || isReview ? (\n                <button className=\"w-full h-full p-0 border-none\" onClick={handleClick} style={style}>\n                    <img className={className} src={imageSrc} onError={handleError} alt=\"\" />\n                </button>\n            ) : (\n                <img className={className} src={imageSrc} onError={handleError} style={style} alt=\"\" />\n            )}\n\n            {isReview && (\n                <Modal\n                    open={isModalOpen}\n                    onClose={() => setIsModalOpen(false)}\n                    // size=\"80%\"\n                    // withCloseButton={false}\n                    // transitionDuration={350}\n                    // exitTransitionDuration={350}\n                >\n                    <div style={{ height: \"calc(100vh - 48px - 48px)\" }} className=\"p-2\">\n                        <img className=\"object-contain w-full h-full\" src={imageSrc} onError={handleError} alt=\"\" />\n                    </div>\n                </Modal>\n            )}\n        </>\n    );\n};\n\nexport default ImageCustom;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}